import { compileMdx } from 'nextra/compile';
import { getSchemas, processSchema } from 'lib';
import { LatestSchemaReference } from '@components/latest-schema-reference';

# Reference

export async function getStaticProps() {
  const { schemas, latestVersion } = await getSchemas();
  const latestSchema = schemas[latestVersion];
  const processedSchema = await processSchema(compileMdx, {
    version: latestVersion,
    schema: latestSchema,
  });
  return {
    props: {
      ssg: {
        latestSchema: processedSchema,
      },
    },
  };
}

<LatestSchemaReference />
